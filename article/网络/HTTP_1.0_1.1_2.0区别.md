

​		浏览器发起一个HTTP请求的过程:

浏览器 -> 网站，互相之间是先要通过tcp三次握手，建立一个连接，浏览器和网站互相都给对方留出一份资源，浏览器发起http请求 -> tcp -> ip -> 以太网，网站上面去，网站返回一个响应，连接关闭，tcp四次挥手。释放掉浏览器和网站各自给对方保持的一份资源。



​		HTTP1.0 默认是**短连接**(手动指定keep-alive来开启持久连接).  在早期的网页, 内容很少, 因此请求少, 每次都客户端开辟一个端口 -> 建立三次握手连接 -> 传输数据 -> 四次挥手关闭连接. 够用扛得住.

​		但现代网站, 包含大量图片, js, css, n多个http请求.  每个动作都开辟端口建立一个连接.  30个请求就重复执行`客户端开辟一个端口 -> 建立三次握手连接 -> 传输数据 -> 四次挥手关闭连接`30次, 效率巨慢还占用资源.  这个过程最重的是三次握手与四次挥手. 

​		**HTTP 1.1**默认支持**持久连接**. 一个连接建立使用完成后, 不会立刻关闭, 而是保留一段时间, 后续有请求可以使用这个连接. HTTP 1.1还支持虚拟主机, 以及**断点续传**. 

​		但是HTTP 1.1的连接处理请求是串行的, 即同一时间同一个域名端口的请求只能有一个. 

​		**HTTP 2.0 支持多路复用**, 即一个tcp连接可以并行发送多个请求以及接收响应. 支持二进制分帧，将传输数据拆分为更小的帧，提高了性能，实现低延迟高吞吐。



todo, 

http1.1, http2.0其他新特性